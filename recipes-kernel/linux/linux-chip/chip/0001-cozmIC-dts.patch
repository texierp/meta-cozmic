From d9f0997e30f335af9b2ee997becb7b230973b628 Mon Sep 17 00:00:00 2001
From: Pierre-Jean TEXIER <pjtexier@amplitude-systemes.com>
Date: Fri, 3 Feb 2017 20:34:58 +0100
Subject: [PATCH] cozmIC dts

Signed-off-by: Pierre-Jean TEXIER <pjtexier@amplitude-systemes.com>
---
 arch/arm/boot/dts/sun5i-r8-chip.dts | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

diff --git a/arch/arm/boot/dts/sun5i-r8-chip.dts b/arch/arm/boot/dts/sun5i-r8-chip.dts
index e223d0f..df438fc 100644
--- a/arch/arm/boot/dts/sun5i-r8-chip.dts
+++ b/arch/arm/boot/dts/sun5i-r8-chip.dts
@@ -58,6 +58,7 @@
 		i2c0 = &i2c0;
 		i2c1 = &i2c1;
 		i2c2 = &i2c2;
+		spi2 = &spi2;
 		serial0 = &uart1;
 		serial1 = &uart3;
 	};
@@ -103,6 +104,12 @@
 	};
 };
 
+&pwm {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pwm0_pins>;
+	status = "okay";
+};
+
 &be0 {
 	status = "okay";
 };
@@ -173,6 +180,22 @@
 	status = "okay";
 };
 
+&spi2 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&spi2_pins_a>,
+		<&spi2_cs0_pins_a>;
+	status = "okay";
+	
+	spi2_0 {
+		compatible = "mcp3204";
+		#io-channel-cells = <1>;	
+		#address-cells = <1>;
+		#size-cells = <0>;		
+		reg = <0>;
+		spi-max-frequency = <1000000>;
+	};
+};
+
 &mmc0_pins_a {
 	allwinner,pull = <SUN4I_PINCTRL_PULL_UP>;
 };
-- 
1.9.1

